CREATE TABLE `usuario` (
  `id` int PRIMARY KEY,
  `nome` varchar(255),
  `email` varchar(255),
  `senha` varchar(255),
  `data` timestamp
);

CREATE TABLE `conta` (
  `id` int PRIMARY KEY,
  `nome` varchar(255),
  `descricao` varchar(255),
  `saldo` numeric(12,2),
  `usuario_id` int
);

CREATE TABLE `transacao` (
  `id` int PRIMARY KEY,
  `conta_origem` int,
  `conta_destino` int,
  `status` ENUM ('PENDENTE', 'CANCELADO', 'EFETIVADO'),
  `tipo` ENUM ('DESPESA', 'RECEITA', 'TRANSFERENCIA'),
  `categoria_id` int,
  `valor` numeric(12,2),
  `data` timestamp
);

CREATE TABLE `categoria` (
  `id` int PRIMARY KEY,
  `descricao` varchar(255),
  `tipo` ENUM ('DESPESA', 'RECEITA')
);

ALTER TABLE `conta` ADD FOREIGN KEY (`usuario_id`) REFERENCES `usuario` (`id`);

ALTER TABLE `transacao` ADD FOREIGN KEY (`conta_origem`) REFERENCES `conta` (`id`);

ALTER TABLE `transacao` ADD FOREIGN KEY (`conta_destino`) REFERENCES `conta` (`id`);

ALTER TABLE `transacao` ADD FOREIGN KEY (`categoria_id`) REFERENCES `categoria` (`id`);
